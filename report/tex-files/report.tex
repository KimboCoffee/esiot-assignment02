\documentclass[a4paper,12pt]{report}

\usepackage{alltt, fancyvrb, url}
\usepackage{graphicx}
\usepackage[utf8]{inputenc}
\usepackage{float}
\usepackage{hyperref}
\usepackage{cleveref}

\title{Embedded Systems and Internet-of-Things \\ - \\ Second Assignment}

\author{Kimi Osti}
\date{\today}


\begin{document}
	
	\maketitle
	
	\begin{abstract}
		The main goal of this project is to realize a Smart Liquid Waste Disposal Container. It will be based on an Arduino UNO Board linked to a computer via serial communication. In this system, some hardware devices will be dedicated to user interaction, opening or closing the container, or exchanging some basic information via a screen. Then, a subsystem will be dedicated to waste monitoring, revealing when the container is too full or its content is too hot, blocking user interaction. To solve these problems, an operator will have to intervene via the computer to empty the container or to signal that the temperature situation is now under control.
	\end{abstract}
	
	\tableofcontents
	
	\chapter{Domain Analysis}
	The domain analysis, working on an embedded system, can be conducted on two levels: hardware and software.
	
	\section{Hardware}
	Besides the main container, which is by no means an active hardware device, some main components can be highlighted from a functional standpoint:
	
	\subsection{User Detector}
	The user detector has the main function of revealing when a user is nearby. This is needed to wake the system from low power consumption mode when a potential user approaches the system.\newline
	It is realized with an infrared passive sensor (PIR), whose functioning is based on infrared variations in the environment. These devices, powered with a tension, return a digital output on a pin when they detect abrupt infrared variations. In \href{https://learn.adafruit.com/pir-passive-infrared-proximity-motion-sensor/}{the variant used} for this project, there are two knobs on the back to regulate sensitivity and delay time, two key factors to detect changes. Due to the fact that these devices work on variations of infrared instead of absolute values, a calibration time on system startup has to be taken into account.
	
	\subsection{Waste Level Detector}
	The waste level detector has the vital function of detecting the amount of waste introduced in the container. This has to be monitored so that a maximum level is never exceeded.\newline
	It can be realized thanks to a proximity sensor, which detects how close the level of waste is to the top of the container. When this distance goes below a certain defined threshold, it means the container is too full. For our project, an \href{https://docs.google.com/document/d/1Y-yZnNhMYy7rwhAgyL_pfa39RsB-x2qR4vP8saG73rE/edit?tab=t.0}{ultrasound proximity sensor} is used rather than a light proximity sensor. This because it allows greater precision on shorter distances (because of how much sound is slower than light) and because it is less sensitive of orientation of the measured object. This device is powered by a trigger impulse, which produces a sound that is captured back and produces an echo impulse. Measuring the time elapsed between these two signals, and knowing - even approximately - the speed of sound through air a measure of distance can be obtained.
	
	\subsection{Door}
	The container's door is realized here thanks to an electrical motor, which is oriented to a certain angle to open or close the container.\newline
	This can be easily obtained thanks to an electrical motor, rotating to open or close a door. Rather than using DC motors, in which the angle can't be specified, or stepper motors, that offer a fine grained rotating precision but are very expensive, we have chosen to use a servo motor. It has a range of about 180Â°, which is enough if applied to a door's control, and it offer the possibility to control the angle of its rotation in an easy way. For it to work properly, a servo motor requires that electrical pulses of a certain duration (corresponding to the angle) are sent to it at a fixed frequency, so that it is oriented to meet the desired angle. Particular attention has to be paid to how much the door resists to rotation: electrical consumption here depends on this factor, so having a door that weights too much can damage the UNO Board.
	
	\subsection{Open and Close buttons}
	These are two simple tactile buttons linked to the UNO Board.\newline
	Their functioning is based on the fact that they receive power from the board, and transfer it back to it via some pin when they are pressed. In order to have 0 rather than VCC as the default value, a pull down resistor - 10KOhm in our case - is needed to connect the button to the ground.
	
	\subsection{Red and Green LEDs}
	These are two LEDs used to signal to the user the state of the system: green is turned on when the container is in a ready-to-use state, while red signals some problem that blocks the system functions.\newline
	In order for the LEDs to work, tension has to be applied on their two ends: the anode is connected to a pin powering it based on output, and the cathode is connected to the ground. Since the LEDs used for this project require a tension of 2V to work properly, and Arduino UNO's VCC is 5V, a 220Ohm resistor is needed in order to lower the tension at the ends of each LED.
	
	\subsection{User Screen}
	This device is used to show the user some simple information, such as the fact that the system is ready to accept waste and how to open it.\newline
	In our system, a \href{https://robot-italy.com/products/16x2-lcd-display-green?_pos=3&_psq=display+lcd&_ss=e&_v=1.0}{green background Liquid Crystal Display} is used for this function. More specifically, it's used with a \href{https://en.wikipedia.org/wiki/I%C2%B2C}{I2C} adapter, to exploit its features occupying less pins on the board.
	
	\subsection{Temperature Sensor}
	This device is needed to monitor the waste temperature.\newline
	It can be realized using a simple analog temperature sensor. These devices are based on the fact that temperature increases or decreases the electricity flow through them, and an analog signal is returned to the board according to the temperature value. Starting from this analog value, knowing voltage and temperature ranges of the devices (which have to be read on technical specs sheets) the measure can be easily obtained via some mathematical formula. 
	
	\subsection{Operator Dashboard}
	The operator dashboard is meant to be accessed only by operators, and it has to be connected to the Arduino UNO Board.\newline
	In our system, it will be hosted on a separate general purpose computer, in which a program will run to handle the dashboard's features. Connection will be achieved via serial communication, exploiting the USB connection offered by Arduino UNO Board.
	
	\section{Software}
	
	\chapter{Development}
	
	\section{Embedded System}
	
	\subsection{Software Architecture}
	
	\subsection{Implementing Choices}
	
	\section{Computer System}
	
\end{document}
